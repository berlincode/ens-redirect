// vim: sts=2:ts=2:sw=2
.d-spinner {
  animation-duration: 2.4s;
  animation-timing-function: cubic-bezier(0, 1, 0.3, 1);
  animation-direction: normal;
  animation-iteration-count: infinite;
  transform-origin: left bottom;
}

$colors1: #759caf, #b6cad4;
$colors2: #a3becb, #e4ecf0;
$colors3: #d0dde4 #ffffff;

$colors_all: $colors1, $colors2, $colors3;

@for $i from 1 through length($colors_all) {
  $colors: nth($colors_all, $i);

  .d-spinner.d-spinner#{$i} {
    animation-name: spinner-anim#{$i};
    fill: nth($colors, 1);
  }

  @keyframes spinner-anim#{$i} {
    $per: percentage(4/12);
    0% {
      opacity: 0;
      transform: rotateZ(-65deg) scale(0.6);
    }
    #{percentage(0.01 + ($i - 1) * 0.03)} {
      opacity: 0;
      fill: nth($colors, 2);
      transform: rotateZ(-65deg) scale(0.6);
    }
    #{percentage(0.07 + ($i - 1) * 0.03)} {
      opacity: 1;
      fill: nth($colors, 2);
      transform: rotateZ(0) scale(1);
    }
    #{percentage(0.57 + ($i - 1) * 0.03)} {
      animation-timing-function: cubic-bezier(0, 0, 0, 1);
      fill: nth($colors, 1);
    }
    #{percentage(0.74 - ($i - 1) * 0.03)} {
      opacity: 1;
      transform: rotateZ(0) scale(1);
      animation-timing-function: cubic-bezier(0, 0, 1, 0);
    }
    #{percentage(0.83 - ($i - 1) * 0.03)} {
      opacity: 0;
      transform: rotateZ(45deg) scale(0.61);
    }
    100% {
      opacity: 0;
      transform: rotateZ(45deg) scale(0.61);
    }
  }

}

